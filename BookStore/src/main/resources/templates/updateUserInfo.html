<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/header :: common-header" />

<body>
	<div th:replace="common/header :: navbar"></div>
	
	<div class="signup-form">
	    <form th:action="@{/updateUserInfo}" method="POST" th:object="${user}">
			<h2>Update Information</h2>
			<input type="hidden" name="id" th:value="${user.id}" />
	        <div class="form-group">
				<div class="row">
					<div class="col-xs-6"><label>* First Name:</label><input type="text" class="form-control" th:field="*{firstName}" th:value="${user.firstName}" required="required" /></div>
					<div class="col-xs-6"><label>* Last Name:</label><input type="text" class="form-control" th:field="*{lastName}" th:value="${user.lastName}" required="required" /></div>
				</div>        	
	        </div>
	        <div class="form-group">
	        	<label>* UserName:</label><input type="text" class="form-control" th:field="*{userName}" th:value="${user.userName}" required="required" />
	        </div>
	        <div class="form-group">
	            <label>Current Password:</label><input type="password" id="password" class="form-control" name="password" />
	        </div>
	        <div class="form-group">
	            <label>New Password:</label><span id="checkPasswordMatch" style="color: red;"></span><input type="password" id="newPassword" class="form-control" name="newPassword" />
	        </div>
	        <div class="form-group">
	            <label>Confirm Password:</label><input type="password" id="confirmPassword" class="form-control" />
	        </div>
	        <div class="form-group">
	        	<label>* Email:</label><input type="email" class="form-control" th:value="${user.email}" required="required" th:field="*{email}" />
	        </div>
			<div class="form-group">
	        	<label>Phone:</label><input type="text" class="form-control" th:value="${user.phone}" th:field="*{phone}" />
	        </div>
	        
	        <div class="alert alert-danger" th:if="${existsUserMsg}">
	        	<p>Username is already registered!</p>
	        </div>
	        <div class="alert alert-danger" th:if="${incorrectPasswordMsg}">
	        	<p>Incorrect password. Please try again!</p>
	        </div>
	        <div class="alert alert-success" th:if="${successMsg}">
	        	<p>User information updated successfully!</p>
	        </div>
	        
			<div class="form-group">
	            <button id="updateUserInfoBtn" type="submit" class="btn btn-success btn-lg btn-block">Save all</button>
	        </div>
	    </form>
	</div>	

	<div th:replace="common/header :: footer"></div>
	<div th:replace="common/header :: body-bottom-scripts"></div>
</body>
</html>
